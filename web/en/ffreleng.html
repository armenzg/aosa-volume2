<!-- vim: set ts=2 sw=2 tw=70: -->
<html>
  <head>
    <meta name="provenance" content="$Id$" />
    <link rel="stylesheet" href="aosa.css" type="text/css" />
    <title>The Architecture of Open Source Applications, Volume 2: Firefox Release Engineering</title>
  </head>
  <body>

    <div class="header">
      <table>
	<tr>
	  <td>
	    <a href="index.html"><img src="../images/titlebar.jpg" alt="The Architecture of Open Source Applications, Volume 2" /></a>
	  </td>
	  <td>
	    <strong><em>The Architecture of Open Source Applications, Volume 2</em></strong>
	    <br/>
	    <strong>Amy Brown and Greg Wilson (eds.)</strong>
	  </td>
	</tr>
      </table>
      <h1 class="chaptitle">Firefox Release Engineering</h1>
      <h1 class="chapterauthor">
        <a href="intro.html#atlee-chris">Chris AtLee</a>, 
        <a href="intro.html#blakk-lukas">Lukas Blakk</a>,
        <a href="intro.html#oduinn-john">John O'Duinn</a>, 
        <a href="intro.html#zambrano-gasparnian-armen">Armen Zambrano Gasparnian</a>
      </h1>
    </div>

    <p>
    The Mozilla Release Engineering team has made a lot of advances
    recently in how our release automation works and it's getting to
    be quite close to pushing a button, with minimal human
    interventions, eliminating many of the headaches and do-overs
    often resulting with the old ways. In this chapter we will explore
    and explain the infrastructure decisions as well as scripts that
    comprise the complete, and current, Firefox rapid release system.
    </p>

    <p>
    You'll see the system from the perspective of a release-worthy
    changeset in the mozilla-beta repository as it is turned into a
    release candidate, and then a public release.  Accompanied by
    diagrams, we'll start with builds &amp; signing, then on to how we
    generate update snippets for every supported version and OS out in
    the wild, finally stopping for loads of verification automation as
    well as manual QA before being pushed out to a network of mirrors
    for availability to our users.
    </p>

    <p>
    We'll look at some of the newer decisions that have been made to improve
    this process like our sanity-checking script that helps eliminate much
    of what used to be vulnerable to human error, our automated signing
    script, our integration of mobile releases into the desktop release
    stream, and the land of patcher/AUS where updates are created and served
    to our over 400 million users across multiple versions of the software.
    </p>

    <p>
    We'll show how the new rapid release process metrics and talk
    about how we've generalized much of the configuration we use to be
    able to maintain only one Mercurial repository for all our release
    code.
    </p>

    <p>
    Come along for a wild ride and follow a Mozilla Firefox release
    from the moment the release coordinator gives the official "Go" to
    when it's available for download (or update) to your computer or
    mobile device.
    </p>

    <div class="sect">
      <h2>Section title</h2>
      <p>
      Section text goes here!
      </p>
    </div>

    <div class="sect">
      <h2>The Chosen One - how the final revision is chosen for a release</h2>
      <p>
      Throughout the beta cycle for Firefox, we are doing periodic
      releases from our <a
        href="http://hg.mozilla.org/releases/mozilla-beta/">mozilla-beta</a>
      repository. Each one of these beta releases goes through the
      full release automation and is treated almost identically to our
      regular final releases.
      </p>

      <p>
      For each beta release, we're looking to see if bugs or crashes
      we've fixed internally fix the problems for users.
      </p>

      go/no-go decision
      </p>
    </div>

    <div class="sect">
      <h2>Release Build Automation - what happens, where, when?</h2>
      <p>
      </p>
    </div>

    <div class="sect">
      <h2>Release Build Automation - how stuff works</h2>
      <p>
      </p>
    </div>

    <div class="sect">
      <h2>Working in the open</h2>
      <p>
      At Mozilla we strive to do everything in the open. All of
      Release Engineering's code and notes are public, available to
      see. Here are some links for further reading:
      </p>
      <ul>
        <li><a href="http://hg.mozilla.org/build">build group's
        repositories</a>. In particular, the buildbotcustom,
        buildbot-configs, and tools repositories are used heavily for
        releases.</li>
        <li><a
          href="https://wiki.mozilla.org/Releases/Firefox_7.0b4/BuildNotes">Firefox
          7.0 Beta 4 Build Notes</a>. In addition to code, we document
        every aspect of a release. Here's an example from our 7.0b4
        release.</li>
      </ul>
    </div>

    <div class="footer">
    </div>

  </body>
</html>
